# Action

Represents an action that will do some work when executed with a value of
type `Input`, then return zero or more values of type `Output` and/or fail
with an error of type `Error`. If no failure should be possible, NoError can
be specified for the `Error` parameter.

``` swift
public final class Action<Input, Output, Error: Swift.Error> 
```

Actions enforce serial execution. Any attempt to execute an action multiple
times concurrently will return an error.

## Inheritance

[`ActionProtocol`](/ActionProtocol), [`ActionProtocol`](/ActionProtocol)

## Initializers

### `init(state:enabledIf:_:)`

Initializes an action that will be conditionally enabled based on the
value of `state`. Creates a `SignalProducer` for each input and the
current value of `state`.

``` swift
public init<State: PropertyProtocol>(state property: State, enabledIf isEnabled: @escaping (State.Value) -> Bool, _ execute: @escaping (State.Value, Input) -> SignalProducer<Output, Error>) 
```

> 

> 

#### Parameters

  - state: A property that provides the current state of the action whenever `apply()` is called.
  - enabledIf: A predicate that, given the current value of `state`, returns whether the action should be enabled.
  - execute: A closure that returns the `SignalProducer` returned by calling `apply(Input)` on the action, optionally using the current value of `state`.

### `init(enabledIf:_:)`

Initializes an action that will be conditionally enabled, and creates a
`SignalProducer` for each input.

``` swift
public convenience init<P: PropertyProtocol>(enabledIf property: P, _ execute: @escaping (Input) -> SignalProducer<Output, Error>) where P.Value == Bool 
```

#### Parameters

  - enabledIf: Boolean property that shows whether the action is enabled.
  - execute: A closure that returns the signal producer returned by calling `apply(Input)` on the action.

### `init(_:)`

Initializes an action that will be enabled by default, and creates a
SignalProducer for each input.

``` swift
public convenience init(_ execute: @escaping (Input) -> SignalProducer<Output, Error>) 
```

#### Parameters

  - execute: A closure that returns the signal producer returned by calling `apply(Input)` on the action.

## Properties

### `unsafeCocoaAction`

``` swift
@available(*, unavailable, message:"Use the `CocoaAction` initializers instead.")
	public var unsafeCocoaAction: CocoaAction<AnyObject> 
```

### `lifetime`

The lifetime of the Action.

``` swift
public let lifetime: Lifetime
```

### `events`

A signal of all events generated from applications of the Action.

``` swift
public let events: Signal<Event<Output, Error>, NoError>
```

In other words, this will send every `Event` from every signal generated
by each SignalProducer returned from apply() except `ActionError.disabled`.

### `values`

A signal of all values generated from applications of the Action.

``` swift
public let values: Signal<Output, NoError>
```

In other words, this will send every value from every signal generated
by each SignalProducer returned from apply() except `ActionError.disabled`.

### `errors`

A signal of all errors generated from applications of the Action.

``` swift
public let errors: Signal<Error, NoError>
```

In other words, this will send errors from every signal generated by
each SignalProducer returned from apply() except `ActionError.disabled`.

### `disabledErrors`

A signal which is triggered by `ActionError.disabled`.

``` swift
public let disabledErrors: Signal<(), NoError>
```

### `completed`

A signal of all completed events generated from applications of the action.

``` swift
public let completed: Signal<(), NoError>
```

In other words, this will send completed events from every signal generated
by each SignalProducer returned from apply().

### `isExecuting`

Whether the action is currently executing.

``` swift
public let isExecuting: Property<Bool>
```

### `isEnabled`

Whether the action is currently enabled.

``` swift
public let isEnabled: Property<Bool>
```

### `action`

``` swift
public var action: Action 
```

## Methods

### `apply(_:)`

Creates a SignalProducer that, when started, will execute the action
with the given input, then forward the results upon the produced Signal.

``` swift
public func apply(_ input: Input) -> SignalProducer<Output, ActionError<Error>> 
```

> 

#### Parameters

  - input: A value that will be passed to the closure creating the signal producer.

### `performAndHandleResult()`

Performs the action and checks for any problems in the result.

``` swift
public mutating func performAndHandleResult() throws 
```

If any warnings or errors are found, they will be printed to standard output.

#### Throws

`ErrorsEncountered` if any errors are produced while performing the action.

## Default Implementations

### `unsafeCocoaAction`

``` swift
@available(*, unavailable, message:"Use the `CocoaAction` initializers instead.")
	public var unsafeCocoaAction: CocoaAction<AnyObject> 
```

### `action`

``` swift
public var action: Action 
```

### `performAndHandleResult()`

Performs the action and checks for any problems in the result.

``` swift
public mutating func performAndHandleResult() throws 
```

If any warnings or errors are found, they will be printed to standard output.

#### Throws

`ErrorsEncountered` if any errors are produced while performing the action.

## Requirements

### perform(logHandle:â€‹)

Performs the action and returns an `ActionResult`.

``` swift
mutating func perform(logHandle: LogHandle) throws -> ActionResult
```
