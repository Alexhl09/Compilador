//	CompilerLex

import Cocoa




class CompilerLex: OCLexInput {
	
	

	/*
	 *	Internal generated state
	 */

	static let MAXSTATES: UInt16 =       128
	static let MAXCHARCLASS: UInt16 =    52
	static let MAXACTIONS: UInt16 =      50


	//  Character classes used during parsing:
	//
	//  0: a
	//  1: b
	//  2: c
	//  3: d
	//  4: e
	//  5: f
	//  6: g
	//  7: h
	//  8: i
	//  9: l
	//  10: m
	//  11: n
	//  12: o
	//  13: p
	//  14: r
	//  15: s
	//  16: t
	//  17: u
	//  18: v
	//  19: w
	//  20: {
	//  21: |
	//  22: }
	//  23: I
	//  24: S
	//  25: [A-HJ-RT-Zjkqx-z]
	//  26: \[
	//  27: \]
	//  28: _
	//  29: !
	//  30: "
	//  31: &
	//  32: (
	//  33: )
	//  34: *
	//  35: +
	//  36: ,
	//  37: \-
	//  38: .
	//  39: /
	//  40: [0-9]
	//  41: [#-%'@\\^]
	//  42: :
	//  43: ;
	//  44: <
	//  45: =
	//  46: >
	//  47: ?
	//  48: [\012\015]
	//  49: \011
	//  50:  
	//  51: [\000-\010\013\014\016-\037`~-\377]

	/*  CharClass
	 *
	 *      Maps 8-bit character to character class
	 */

	static let CharClass: [UInt16] = [
		 51,  51,  51,  51,  51,  51,  51,  51, 
		 51,  49,  48,  51,  51,  48,  51,  51, 
		 51,  51,  51,  51,  51,  51,  51,  51, 
		 51,  51,  51,  51,  51,  51,  51,  51, 
		 50,  29,  30,  41,  41,  41,  31,  41, 
		 32,  33,  34,  35,  36,  37,  38,  39, 
		 40,  40,  40,  40,  40,  40,  40,  40, 
		 40,  40,  42,  43,  44,  45,  46,  47, 
		 41,  25,  25,  25,  25,  25,  25,  25, 
		 25,  23,  25,  25,  25,  25,  25,  25, 
		 25,  25,  25,  24,  25,  25,  25,  25, 
		 25,  25,  25,  26,  41,  27,  41,  28, 
		 51,   0,   1,   2,   3,   4,   5,   6, 
		  7,   8,  25,  25,   9,  10,  11,  12, 
		 13,  25,  14,  15,  16,  17,  18,  19, 
		 25,  25,  25,  20,  21,  22,  51,  51, 
		 51,  51,  51,  51,  51,  51,  51,  51, 
		 51,  51,  51,  51,  51,  51,  51,  51, 
		 51,  51,  51,  51,  51,  51,  51,  51, 
		 51,  51,  51,  51,  51,  51,  51,  51, 
		 51,  51,  51,  51,  51,  51,  51,  51, 
		 51,  51,  51,  51,  51,  51,  51,  51, 
		 51,  51,  51,  51,  51,  51,  51,  51, 
		 51,  51,  51,  51,  51,  51,  51,  51, 
		 51,  51,  51,  51,  51,  51,  51,  51, 
		 51,  51,  51,  51,  51,  51,  51,  51, 
		 51,  51,  51,  51,  51,  51,  51,  51, 
		 51,  51,  51,  51,  51,  51,  51,  51, 
		 51,  51,  51,  51,  51,  51,  51,  51, 
		 51,  51,  51,  51,  51,  51,  51,  51, 
		 51,  51,  51,  51,  51,  51,  51,  51, 
		 51,  51,  51,  51,  51,  51,  51,  51
	]

	/*  StateActions
	 *
	 *      Maps states to actions. MAXACTION if this is not a terminal
	 */

	static let StateActions: [UInt16] = [
		 50,  32,   2,  48,  48,  48,  48,  48, 
		 48,  48,  48,  48,  48,  48,  48,  48, 
		 48,  22,  23,  49,   2,  28,  27,  29, 
		 30,  31,  33,  34,  35,  36,  37,  38, 
		 39,  40,  41,  42,  49,  46,  49,  48, 
		 48,  49,  50,  50,   2,  48,  48,  48, 
		 48,  48,  48,  48,  48,  48,  19,  48, 
		 48,  48,  48,  48,  48,  48,  48,  48, 
		 48,  48,  24,   2,  26,  50,  46,  50, 
		 47,  50,  50,  50,   0,  50,  48,   4, 
		 48,  18,  48,   7,  48,  48,  48,  48, 
		 11,  48,  48,  48,  15,  48,  48,  48, 
		 43,  44,  45,  47,  50,   1,   3,  48, 
		 48,  48,  48,  10,  48,  21,  48,  14, 
		 48,  48,  20,  50,   5,  48,   9,   8, 
		 12,  48,  48,  17,   0,   6,  13,  16
	]

	/*  StateMachineIA, StateMachineJA, StateMachineA
	 *
	 *      Lex state machine in compressed sparce row storage format. We do this
	 *  in order to compact the resulting sparse matrix state machine so we don't
	 *  consume as much space. Decoding the new state becomes an O(log(N)) process
	 *  on the input character class as we use a binary search on the JA array.
	 *
	 *      See the article below for more information:
	 *
	 *      https://en.wikipedia.org/wiki/Sparse_matrix#Compressed_sparse_row_.28CSR.2C_CRS_or_Yale_format.29
	 */

	static let StateMachineIA: [UInt16] = [
		  0,  52,  54,  58,  83, 108, 133, 158, 
		183, 208, 233, 258, 283, 308, 333, 358, 
		383, 408, 408, 408, 409, 413, 414, 414, 
		414, 414, 414, 414, 414, 414, 414, 414, 
		414, 414, 414, 414, 414, 415, 417, 451, 
		476, 501, 501, 553, 605, 609, 634, 659, 
		684, 709, 734, 759, 784, 809, 834, 859, 
		884, 909, 934, 959, 984, 1009, 1034, 1059, 
		1084, 1109, 1134, 1134, 1138, 1138, 1140, 1142, 
		1143, 1177, 1211, 1263, 1315, 1315, 1367, 1392, 
		1417, 1442, 1467, 1492, 1517, 1542, 1567, 1592, 
		1617, 1642, 1667, 1692, 1717, 1742, 1767, 1792, 
		1817, 1817, 1817, 1818, 1852, 1904, 1956, 1981, 
		2006, 2031, 2056, 2081, 2106, 2131, 2156, 2181, 
		2206, 2231, 2256, 2281, 2333, 2358, 2383, 2408, 
		2433, 2458, 2483, 2508, 2533, 2585, 2610, 2635, 
		2660
	]

	static let StateMachineJA: [UInt16] = [
		  0,   1,   2,   3,   4,   5,   6,   7, 
		  8,   9,  10,  11,  12,  13,  14,  15, 
		 16,  17,  18,  19,  20,  21,  22,  23, 
		 24,  25,  26,  27,  28,  29,  30,  31, 
		 32,  33,  34,  35,  36,  37,  38,  39, 
		 40,  41,  42,  43,  44,  45,  46,  47, 
		 48,  49,  50,  51,  34,  39,  21,  48, 
		 49,  50,   0,   1,   2,   3,   4,   5, 
		  6,   7,   8,   9,  10,  11,  12,  13, 
		 14,  15,  16,  17,  18,  19,  23,  24, 
		 25,  28,  40,   0,   1,   2,   3,   4, 
		  5,   6,   7,   8,   9,  10,  11,  12, 
		 13,  14,  15,  16,  17,  18,  19,  23, 
		 24,  25,  28,  40,   0,   1,   2,   3, 
		  4,   5,   6,   7,   8,   9,  10,  11, 
		 12,  13,  14,  15,  16,  17,  18,  19, 
		 23,  24,  25,  28,  40,   0,   1,   2, 
		  3,   4,   5,   6,   7,   8,   9,  10, 
		 11,  12,  13,  14,  15,  16,  17,  18, 
		 19,  23,  24,  25,  28,  40,   0,   1, 
		  2,   3,   4,   5,   6,   7,   8,   9, 
		 10,  11,  12,  13,  14,  15,  16,  17, 
		 18,  19,  23,  24,  25,  28,  40,   0, 
		  1,   2,   3,   4,   5,   6,   7,   8, 
		  9,  10,  11,  12,  13,  14,  15,  16, 
		 17,  18,  19,  23,  24,  25,  28,  40, 
		  0,   1,   2,   3,   4,   5,   6,   7, 
		  8,   9,  10,  11,  12,  13,  14,  15, 
		 16,  17,  18,  19,  23,  24,  25,  28, 
		 40,   0,   1,   2,   3,   4,   5,   6, 
		  7,   8,   9,  10,  11,  12,  13,  14, 
		 15,  16,  17,  18,  19,  23,  24,  25, 
		 28,  40,   0,   1,   2,   3,   4,   5, 
		  6,   7,   8,   9,  10,  11,  12,  13, 
		 14,  15,  16,  17,  18,  19,  23,  24, 
		 25,  28,  40,   0,   1,   2,   3,   4, 
		  5,   6,   7,   8,   9,  10,  11,  12, 
		 13,  14,  15,  16,  17,  18,  19,  23, 
		 24,  25,  28,  40,   0,   1,   2,   3, 
		  4,   5,   6,   7,   8,   9,  10,  11, 
		 12,  13,  14,  15,  16,  17,  18,  19, 
		 23,  24,  25,  28,  40,   0,   1,   2, 
		  3,   4,   5,   6,   7,   8,   9,  10, 
		 11,  12,  13,  14,  15,  16,  17,  18, 
		 19,  23,  24,  25,  28,  40,   0,   1, 
		  2,   3,   4,   5,   6,   7,   8,   9, 
		 10,  11,  12,  13,  14,  15,  16,  17, 
		 18,  19,  23,  24,  25,  28,  40,   0, 
		  1,   2,   3,   4,   5,   6,   7,   8, 
		  9,  10,  11,  12,  13,  14,  15,  16, 
		 17,  18,  19,  23,  24,  25,  28,  40, 
		 31,  21,  48,  49,  50,  46,  38,  38, 
		 40,   0,   1,   2,   3,   4,   5,   6, 
		  7,   8,   9,  10,  11,  12,  13,  14, 
		 15,  16,  17,  18,  19,  23,  24,  25, 
		 28,  30,  31,  32,  33,  34,  37,  38, 
		 40,  41,  50,   0,   1,   2,   3,   4, 
		  5,   6,   7,   8,   9,  10,  11,  12, 
		 13,  14,  15,  16,  17,  18,  19,  23, 
		 24,  25,  28,  40,   0,   1,   2,   3, 
		  4,   5,   6,   7,   8,   9,  10,  11, 
		 12,  13,  14,  15,  16,  17,  18,  19, 
		 23,  24,  25,  28,  40,   0,   1,   2, 
		  3,   4,   5,   6,   7,   8,   9,  10, 
		 11,  12,  13,  14,  15,  16,  17,  18, 
		 19,  20,  21,  22,  23,  24,  25,  26, 
		 27,  28,  29,  30,  31,  32,  33,  34, 
		 35,  36,  37,  38,  39,  40,  41,  42, 
		 43,  44,  45,  46,  47,  48,  49,  50, 
		 51,   0,   1,   2,   3,   4,   5,   6, 
		  7,   8,   9,  10,  11,  12,  13,  14, 
		 15,  16,  17,  18,  19,  20,  21,  22, 
		 23,  24,  25,  26,  27,  28,  29,  30, 
		 31,  32,  33,  34,  35,  36,  37,  38, 
		 39,  40,  41,  42,  43,  44,  45,  46, 
		 47,  48,  49,  50,  51,  21,  48,  49, 
		 50,   0,   1,   2,   3,   4,   5,   6, 
		  7,   8,   9,  10,  11,  12,  13,  14, 
		 15,  16,  17,  18,  19,  23,  24,  25, 
		 28,  40,   0,   1,   2,   3,   4,   5, 
		  6,   7,   8,   9,  10,  11,  12,  13, 
		 14,  15,  16,  17,  18,  19,  23,  24, 
		 25,  28,  40,   0,   1,   2,   3,   4, 
		  5,   6,   7,   8,   9,  10,  11,  12, 
		 13,  14,  15,  16,  17,  18,  19,  23, 
		 24,  25,  28,  40,   0,   1,   2,   3, 
		  4,   5,   6,   7,   8,   9,  10,  11, 
		 12,  13,  14,  15,  16,  17,  18,  19, 
		 23,  24,  25,  28,  40,   0,   1,   2, 
		  3,   4,   5,   6,   7,   8,   9,  10, 
		 11,  12,  13,  14,  15,  16,  17,  18, 
		 19,  23,  24,  25,  28,  40,   0,   1, 
		  2,   3,   4,   5,   6,   7,   8,   9, 
		 10,  11,  12,  13,  14,  15,  16,  17, 
		 18,  19,  23,  24,  25,  28,  40,   0, 
		  1,   2,   3,   4,   5,   6,   7,   8, 
		  9,  10,  11,  12,  13,  14,  15,  16, 
		 17,  18,  19,  23,  24,  25,  28,  40, 
		  0,   1,   2,   3,   4,   5,   6,   7, 
		  8,   9,  10,  11,  12,  13,  14,  15, 
		 16,  17,  18,  19,  23,  24,  25,  28, 
		 40,   0,   1,   2,   3,   4,   5,   6, 
		  7,   8,   9,  10,  11,  12,  13,  14, 
		 15,  16,  17,  18,  19,  23,  24,  25, 
		 28,  40,   0,   1,   2,   3,   4,   5, 
		  6,   7,   8,   9,  10,  11,  12,  13, 
		 14,  15,  16,  17,  18,  19,  23,  24, 
		 25,  28,  40,   0,   1,   2,   3,   4, 
		  5,   6,   7,   8,   9,  10,  11,  12, 
		 13,  14,  15,  16,  17,  18,  19,  23, 
		 24,  25,  28,  40,   0,   1,   2,   3, 
		  4,   5,   6,   7,   8,   9,  10,  11, 
		 12,  13,  14,  15,  16,  17,  18,  19, 
		 23,  24,  25,  28,  40,   0,   1,   2, 
		  3,   4,   5,   6,   7,   8,   9,  10, 
		 11,  12,  13,  14,  15,  16,  17,  18, 
		 19,  23,  24,  25,  28,  40,   0,   1, 
		  2,   3,   4,   5,   6,   7,   8,   9, 
		 10,  11,  12,  13,  14,  15,  16,  17, 
		 18,  19,  23,  24,  25,  28,  40,   0, 
		  1,   2,   3,   4,   5,   6,   7,   8, 
		  9,  10,  11,  12,  13,  14,  15,  16, 
		 17,  18,  19,  23,  24,  25,  28,  40, 
		  0,   1,   2,   3,   4,   5,   6,   7, 
		  8,   9,  10,  11,  12,  13,  14,  15, 
		 16,  17,  18,  19,  23,  24,  25,  28, 
		 40,   0,   1,   2,   3,   4,   5,   6, 
		  7,   8,   9,  10,  11,  12,  13,  14, 
		 15,  16,  17,  18,  19,  23,  24,  25, 
		 28,  40,   0,   1,   2,   3,   4,   5, 
		  6,   7,   8,   9,  10,  11,  12,  13, 
		 14,  15,  16,  17,  18,  19,  23,  24, 
		 25,  28,  40,   0,   1,   2,   3,   4, 
		  5,   6,   7,   8,   9,  10,  11,  12, 
		 13,  14,  15,  16,  17,  18,  19,  23, 
		 24,  25,  28,  40,   0,   1,   2,   3, 
		  4,   5,   6,   7,   8,   9,  10,  11, 
		 12,  13,  14,  15,  16,  17,  18,  19, 
		 23,  24,  25,  28,  40,   0,   1,   2, 
		  3,   4,   5,   6,   7,   8,   9,  10, 
		 11,  12,  13,  14,  15,  16,  17,  18, 
		 19,  23,  24,  25,  28,  40,  21,  48, 
		 49,  50,  38,  44,  38,  40,  40,   0, 
		  1,   2,   3,   4,   5,   6,   7,   8, 
		  9,  10,  11,  12,  13,  14,  15,  16, 
		 17,  18,  19,  23,  24,  25,  28,  30, 
		 31,  32,  33,  34,  37,  38,  40,  41, 
		 50,   0,   1,   2,   3,   4,   5,   6, 
		  7,   8,   9,  10,  11,  12,  13,  14, 
		 15,  16,  17,  18,  19,  23,  24,  25, 
		 28,  30,  31,  32,  33,  34,  37,  38, 
		 40,  41,  50,   0,   1,   2,   3,   4, 
		  5,   6,   7,   8,   9,  10,  11,  12, 
		 13,  14,  15,  16,  17,  18,  19,  20, 
		 21,  22,  23,  24,  25,  26,  27,  28, 
		 29,  30,  31,  32,  33,  34,  35,  36, 
		 37,  38,  39,  40,  41,  42,  43,  44, 
		 45,  46,  47,  48,  49,  50,  51,   0, 
		  1,   2,   3,   4,   5,   6,   7,   8, 
		  9,  10,  11,  12,  13,  14,  15,  16, 
		 17,  18,  19,  20,  21,  22,  23,  24, 
		 25,  26,  27,  28,  29,  30,  31,  32, 
		 33,  34,  35,  36,  37,  38,  39,  40, 
		 41,  42,  43,  44,  45,  46,  47,  48, 
		 49,  50,  51,   0,   1,   2,   3,   4, 
		  5,   6,   7,   8,   9,  10,  11,  12, 
		 13,  14,  15,  16,  17,  18,  19,  20, 
		 21,  22,  23,  24,  25,  26,  27,  28, 
		 29,  30,  31,  32,  33,  34,  35,  36, 
		 37,  38,  39,  40,  41,  42,  43,  44, 
		 45,  46,  47,  48,  49,  50,  51,   0, 
		  1,   2,   3,   4,   5,   6,   7,   8, 
		  9,  10,  11,  12,  13,  14,  15,  16, 
		 17,  18,  19,  23,  24,  25,  28,  40, 
		  0,   1,   2,   3,   4,   5,   6,   7, 
		  8,   9,  10,  11,  12,  13,  14,  15, 
		 16,  17,  18,  19,  23,  24,  25,  28, 
		 40,   0,   1,   2,   3,   4,   5,   6, 
		  7,   8,   9,  10,  11,  12,  13,  14, 
		 15,  16,  17,  18,  19,  23,  24,  25, 
		 28,  40,   0,   1,   2,   3,   4,   5, 
		  6,   7,   8,   9,  10,  11,  12,  13, 
		 14,  15,  16,  17,  18,  19,  23,  24, 
		 25,  28,  40,   0,   1,   2,   3,   4, 
		  5,   6,   7,   8,   9,  10,  11,  12, 
		 13,  14,  15,  16,  17,  18,  19,  23, 
		 24,  25,  28,  40,   0,   1,   2,   3, 
		  4,   5,   6,   7,   8,   9,  10,  11, 
		 12,  13,  14,  15,  16,  17,  18,  19, 
		 23,  24,  25,  28,  40,   0,   1,   2, 
		  3,   4,   5,   6,   7,   8,   9,  10, 
		 11,  12,  13,  14,  15,  16,  17,  18, 
		 19,  23,  24,  25,  28,  40,   0,   1, 
		  2,   3,   4,   5,   6,   7,   8,   9, 
		 10,  11,  12,  13,  14,  15,  16,  17, 
		 18,  19,  23,  24,  25,  28,  40,   0, 
		  1,   2,   3,   4,   5,   6,   7,   8, 
		  9,  10,  11,  12,  13,  14,  15,  16, 
		 17,  18,  19,  23,  24,  25,  28,  40, 
		  0,   1,   2,   3,   4,   5,   6,   7, 
		  8,   9,  10,  11,  12,  13,  14,  15, 
		 16,  17,  18,  19,  23,  24,  25,  28, 
		 40,   0,   1,   2,   3,   4,   5,   6, 
		  7,   8,   9,  10,  11,  12,  13,  14, 
		 15,  16,  17,  18,  19,  23,  24,  25, 
		 28,  40,   0,   1,   2,   3,   4,   5, 
		  6,   7,   8,   9,  10,  11,  12,  13, 
		 14,  15,  16,  17,  18,  19,  23,  24, 
		 25,  28,  40,   0,   1,   2,   3,   4, 
		  5,   6,   7,   8,   9,  10,  11,  12, 
		 13,  14,  15,  16,  17,  18,  19,  23, 
		 24,  25,  28,  40,   0,   1,   2,   3, 
		  4,   5,   6,   7,   8,   9,  10,  11, 
		 12,  13,  14,  15,  16,  17,  18,  19, 
		 23,  24,  25,  28,  40,   0,   1,   2, 
		  3,   4,   5,   6,   7,   8,   9,  10, 
		 11,  12,  13,  14,  15,  16,  17,  18, 
		 19,  23,  24,  25,  28,  40,   0,   1, 
		  2,   3,   4,   5,   6,   7,   8,   9, 
		 10,  11,  12,  13,  14,  15,  16,  17, 
		 18,  19,  23,  24,  25,  28,  40,   0, 
		  1,   2,   3,   4,   5,   6,   7,   8, 
		  9,  10,  11,  12,  13,  14,  15,  16, 
		 17,  18,  19,  23,  24,  25,  28,  40, 
		  0,   1,   2,   3,   4,   5,   6,   7, 
		  8,   9,  10,  11,  12,  13,  14,  15, 
		 16,  17,  18,  19,  23,  24,  25,  28, 
		 40,  40,   0,   1,   2,   3,   4,   5, 
		  6,   7,   8,   9,  10,  11,  12,  13, 
		 14,  15,  16,  17,  18,  19,  23,  24, 
		 25,  28,  30,  31,  32,  33,  34,  37, 
		 38,  40,  41,  50,   0,   1,   2,   3, 
		  4,   5,   6,   7,   8,   9,  10,  11, 
		 12,  13,  14,  15,  16,  17,  18,  19, 
		 20,  21,  22,  23,  24,  25,  26,  27, 
		 28,  29,  30,  31,  32,  33,  34,  35, 
		 36,  37,  38,  39,  40,  41,  42,  43, 
		 44,  45,  46,  47,  48,  49,  50,  51, 
		  0,   1,   2,   3,   4,   5,   6,   7, 
		  8,   9,  10,  11,  12,  13,  14,  15, 
		 16,  17,  18,  19,  20,  21,  22,  23, 
		 24,  25,  26,  27,  28,  29,  30,  31, 
		 32,  33,  34,  35,  36,  37,  38,  39, 
		 40,  41,  42,  43,  44,  45,  46,  47, 
		 48,  49,  50,  51,   0,   1,   2,   3, 
		  4,   5,   6,   7,   8,   9,  10,  11, 
		 12,  13,  14,  15,  16,  17,  18,  19, 
		 23,  24,  25,  28,  40,   0,   1,   2, 
		  3,   4,   5,   6,   7,   8,   9,  10, 
		 11,  12,  13,  14,  15,  16,  17,  18, 
		 19,  23,  24,  25,  28,  40,   0,   1, 
		  2,   3,   4,   5,   6,   7,   8,   9, 
		 10,  11,  12,  13,  14,  15,  16,  17, 
		 18,  19,  23,  24,  25,  28,  40,   0, 
		  1,   2,   3,   4,   5,   6,   7,   8, 
		  9,  10,  11,  12,  13,  14,  15,  16, 
		 17,  18,  19,  23,  24,  25,  28,  40, 
		  0,   1,   2,   3,   4,   5,   6,   7, 
		  8,   9,  10,  11,  12,  13,  14,  15, 
		 16,  17,  18,  19,  23,  24,  25,  28, 
		 40,   0,   1,   2,   3,   4,   5,   6, 
		  7,   8,   9,  10,  11,  12,  13,  14, 
		 15,  16,  17,  18,  19,  23,  24,  25, 
		 28,  40,   0,   1,   2,   3,   4,   5, 
		  6,   7,   8,   9,  10,  11,  12,  13, 
		 14,  15,  16,  17,  18,  19,  23,  24, 
		 25,  28,  40,   0,   1,   2,   3,   4, 
		  5,   6,   7,   8,   9,  10,  11,  12, 
		 13,  14,  15,  16,  17,  18,  19,  23, 
		 24,  25,  28,  40,   0,   1,   2,   3, 
		  4,   5,   6,   7,   8,   9,  10,  11, 
		 12,  13,  14,  15,  16,  17,  18,  19, 
		 23,  24,  25,  28,  40,   0,   1,   2, 
		  3,   4,   5,   6,   7,   8,   9,  10, 
		 11,  12,  13,  14,  15,  16,  17,  18, 
		 19,  23,  24,  25,  28,  40,   0,   1, 
		  2,   3,   4,   5,   6,   7,   8,   9, 
		 10,  11,  12,  13,  14,  15,  16,  17, 
		 18,  19,  23,  24,  25,  28,  40,   0, 
		  1,   2,   3,   4,   5,   6,   7,   8, 
		  9,  10,  11,  12,  13,  14,  15,  16, 
		 17,  18,  19,  23,  24,  25,  28,  40, 
		  0,   1,   2,   3,   4,   5,   6,   7, 
		  8,   9,  10,  11,  12,  13,  14,  15, 
		 16,  17,  18,  19,  23,  24,  25,  28, 
		 40,   0,   1,   2,   3,   4,   5,   6, 
		  7,   8,   9,  10,  11,  12,  13,  14, 
		 15,  16,  17,  18,  19,  20,  21,  22, 
		 23,  24,  25,  26,  27,  28,  29,  30, 
		 31,  32,  33,  34,  35,  36,  37,  38, 
		 39,  40,  41,  42,  43,  44,  45,  46, 
		 47,  48,  49,  50,  51,   0,   1,   2, 
		  3,   4,   5,   6,   7,   8,   9,  10, 
		 11,  12,  13,  14,  15,  16,  17,  18, 
		 19,  23,  24,  25,  28,  40,   0,   1, 
		  2,   3,   4,   5,   6,   7,   8,   9, 
		 10,  11,  12,  13,  14,  15,  16,  17, 
		 18,  19,  23,  24,  25,  28,  40,   0, 
		  1,   2,   3,   4,   5,   6,   7,   8, 
		  9,  10,  11,  12,  13,  14,  15,  16, 
		 17,  18,  19,  23,  24,  25,  28,  40, 
		  0,   1,   2,   3,   4,   5,   6,   7, 
		  8,   9,  10,  11,  12,  13,  14,  15, 
		 16,  17,  18,  19,  23,  24,  25,  28, 
		 40,   0,   1,   2,   3,   4,   5,   6, 
		  7,   8,   9,  10,  11,  12,  13,  14, 
		 15,  16,  17,  18,  19,  23,  24,  25, 
		 28,  40,   0,   1,   2,   3,   4,   5, 
		  6,   7,   8,   9,  10,  11,  12,  13, 
		 14,  15,  16,  17,  18,  19,  23,  24, 
		 25,  28,  40,   0,   1,   2,   3,   4, 
		  5,   6,   7,   8,   9,  10,  11,  12, 
		 13,  14,  15,  16,  17,  18,  19,  23, 
		 24,  25,  28,  40,   0,   1,   2,   3, 
		  4,   5,   6,   7,   8,   9,  10,  11, 
		 12,  13,  14,  15,  16,  17,  18,  19, 
		 23,  24,  25,  28,  40,   0,   1,   2, 
		  3,   4,   5,   6,   7,   8,   9,  10, 
		 11,  12,  13,  14,  15,  16,  17,  18, 
		 19,  20,  21,  22,  23,  24,  25,  26, 
		 27,  28,  29,  30,  31,  32,  33,  34, 
		 35,  36,  37,  38,  39,  40,  41,  42, 
		 43,  44,  45,  46,  47,  48,  49,  50, 
		 51,   0,   1,   2,   3,   4,   5,   6, 
		  7,   8,   9,  10,  11,  12,  13,  14, 
		 15,  16,  17,  18,  19,  23,  24,  25, 
		 28,  40,   0,   1,   2,   3,   4,   5, 
		  6,   7,   8,   9,  10,  11,  12,  13, 
		 14,  15,  16,  17,  18,  19,  23,  24, 
		 25,  28,  40,   0,   1,   2,   3,   4, 
		  5,   6,   7,   8,   9,  10,  11,  12, 
		 13,  14,  15,  16,  17,  18,  19,  23, 
		 24,  25,  28,  40
	]

	static let StateMachineA: [UInt16] = [
		 39,  12,   9,   6,  16,   5,  39,  39, 
		  7,  39,   3,  10,  39,   8,  11,  39, 
		 39,  39,   4,  15,  24,  20,  25,  13, 
		 14,  39,  29,  30,  40,  22,  38,  19, 
		 27,  28,  26,  31,  17,  32,  36,   1, 
		 37,  41,  34,  33,  21,  18,  23,  35, 
		  2,   2,   2,  41,  43,  42,  44,  44, 
		 44,  44,  45,  46,  46,  46,  46,  46, 
		 46,  46,  46,  46,  46,  46,  46,  46, 
		 46,  46,  46,  46,  46,  46,  46,  46, 
		 46,  48,  47,  49,  46,  46,  46,  46, 
		 46,  46,  46,  46,  46,  46,  46,  46, 
		 46,  46,  46,  46,  46,  46,  46,  46, 
		 46,  46,  48,  47,  46,  46,  46,  46, 
		 46,  46,  46,  46,  46,  50,  46,  46, 
		 51,  46,  46,  46,  46,  46,  46,  46, 
		 46,  46,  46,  48,  47,  46,  46,  46, 
		 46,  46,  46,  46,  46,  46,  46,  46, 
		 46,  52,  46,  46,  46,  46,  46,  46, 
		 46,  46,  46,  46,  48,  47,  46,  46, 
		 46,  46,  46,  54,  46,  46,  46,  46, 
		 46,  53,  46,  46,  46,  46,  46,  46, 
		 46,  46,  46,  46,  46,  48,  47,  46, 
		 46,  46,  46,  46,  46,  46,  46,  46, 
		 46,  46,  46,  46,  46,  55,  46,  46, 
		 46,  46,  46,  46,  46,  46,  48,  47, 
		 46,  46,  46,  46,  46,  46,  46,  56, 
		 46,  46,  46,  46,  57,  46,  46,  46, 
		 46,  46,  46,  46,  46,  46,  46,  48, 
		 47,  46,  46,  46,  46,  58,  46,  46, 
		 46,  46,  46,  46,  46,  46,  46,  46, 
		 46,  46,  59,  46,  46,  46,  46,  46, 
		 48,  47,  46,  46,  46,  46,  60,  46, 
		 46,  46,  46,  46,  46,  46,  46,  46, 
		 46,  46,  46,  46,  46,  46,  46,  46, 
		 46,  48,  47,  46,  46,  46,  46,  46, 
		 46,  46,  46,  46,  46,  46,  46,  61, 
		 46,  46,  46,  46,  46,  46,  46,  46, 
		 46,  46,  48,  47,  46,  46,  46,  46, 
		 46,  46,  46,  46,  46,  46,  46,  62, 
		 46,  46,  46,  46,  46,  46,  46,  46, 
		 46,  46,  46,  48,  47,  46,  46,  46, 
		 46,  46,  46,  46,  46,  46,  46,  46, 
		 46,  46,  46,  46,  46,  63,  46,  46, 
		 46,  46,  46,  46,  48,  47,  46,  46, 
		 46,  46,  46,  46,  46,  64,  46,  46, 
		 46,  46,  46,  46,  46,  46,  46,  46, 
		 46,  46,  46,  46,  46,  48,  47,  46, 
		 46,  46,  46,  46,  46,  46,  46,  46, 
		 65,  46,  46,  46,  46,  46,  46,  46, 
		 46,  46,  46,  46,  46,  46,  48,  47, 
		 66,  67,  44,  44,  44,  68,  69,  71, 
		 70,  73,  73,  73,  73,  73,  73,  73, 
		 73,  73,  73,  73,  73,  73,  73,  73, 
		 73,  73,  73,  73,  73,  73,  73,  73, 
		 73,  72,  73,  73,  73,  73,  73,  73, 
		 73,  73,  73,  46,  46,  46,  46,  46, 
		 46,  46,  46,  46,  46,  46,  46,  46, 
		 46,  46,  46,  46,  46,  46,  46,  46, 
		 46,  46,  48,  47,  46,  46,  46,  46, 
		 46,  46,  46,  46,  46,  46,  46,  46, 
		 46,  46,  46,  46,  46,  46,  46,  46, 
		 46,  46,  46,  48,  47,  74,  74,  74, 
		 74,  74,  74,  74,  74,  74,  74,  74, 
		 74,  74,  74,  74,  74,  74,  74,  74, 
		 74,  74,  74,  74,  74,  74,  74,  74, 
		 74,  74,  74,  74,  74,  74,  74,  74, 
		 74,  74,  74,  74,  74,  74,  74,  74, 
		 74,  74,  74,  74,  75,  76,  74,  74, 
		 74,  43,  43,  43,  43,  43,  43,  43, 
		 43,  43,  43,  43,  43,  43,  43,  43, 
		 43,  43,  43,  43,  43,  43,  43,  43, 
		 43,  43,  43,  43,  43,  43,  43,  43, 
		 43,  43,  43,  77,  43,  43,  43,  43, 
		 43,  43,  43,  43,  43,  43,  43,  43, 
		 43,  43,  43,  43,  43,  44,  44,  44, 
		 44,  46,  46,  46,  46,  46,  46,  46, 
		 46,  78,  46,  46,  46,  46,  46,  46, 
		 46,  46,  46,  46,  46,  46,  46,  46, 
		 48,  47,  46,  46,  46,  46,  46,  46, 
		 46,  46,  46,  46,  46,  46,  46,  46, 
		 46,  46,  46,  46,  46,  46,  46,  46, 
		 46,  48,  47,  46,  46,  46,  46,  46, 
		 46,  46,  46,  46,  46,  46,  46,  46, 
		 46,  46,  46,  46,  46,  46,  46,  46, 
		 46,  46,  48,  47,  46,  46,  46,  46, 
		 46,  46,  46,  46,  46,  46,  46,  46, 
		 46,  46,  46,  46,  46,  46,  46,  46, 
		 46,  46,  46,  48,  47,  46,  46,  46, 
		 46,  46,  46,  46,  46,  46,  46,  46, 
		 46,  46,  46,  79,  46,  46,  46,  46, 
		 46,  46,  46,  46,  48,  47,  46,  46, 
		 46,  46,  46,  46,  46,  46,  46,  46, 
		 46,  46,  80,  46,  46,  46,  46,  46, 
		 46,  46,  46,  46,  46,  48,  47,  46, 
		 46,  46,  46,  46,  46,  46,  46,  46, 
		 46,  46,  46,  46,  46,  81,  46,  46, 
		 46,  46,  46,  46,  46,  46,  48,  47, 
		 46,  46,  46,  46,  46,  46,  46,  46, 
		 46,  46,  46,  46,  46,  46,  46,  46, 
		 46,  82,  46,  46,  46,  46,  46,  48, 
		 47,  46,  46,  46,  46,  46,  46,  46, 
		 46,  46,  46,  46,  46,  46,  84,  46, 
		 46,  83,  46,  46,  46,  46,  46,  46, 
		 48,  47,  46,  46,  46,  46,  46,  46, 
		 46,  46,  46,  46,  46,  46,  46,  46, 
		 46,  46,  46,  46,  46,  46,  46,  46, 
		 46,  48,  47,  46,  46,  46,  46,  46, 
		 46,  46,  46,  85,  46,  46,  46,  46, 
		 46,  46,  46,  46,  46,  46,  46,  46, 
		 46,  46,  48,  47,  86,  46,  46,  46, 
		 46,  46,  46,  46,  46,  46,  46,  46, 
		 46,  46,  46,  46,  46,  46,  46,  46, 
		 46,  46,  46,  48,  47,  46,  46,  46, 
		 46,  46,  46,  46,  46,  46,  46,  46, 
		 87,  46,  46,  46,  46,  46,  46,  46, 
		 46,  46,  46,  46,  48,  47,  46,  46, 
		 46,  46,  46,  46,  46,  46,  46,  46, 
		 46,  46,  46,  46,  46,  46,  46,  46, 
		 46,  88,  46,  46,  46,  48,  47,  46, 
		 46,  46,  46,  46,  46,  46,  46,  46, 
		 89,  46,  46,  46,  46,  46,  46,  46, 
		 46,  46,  46,  46,  46,  46,  48,  47, 
		 46,  46,  46,  46,  46,  46,  46,  46, 
		 46,  46,  46,  46,  46,  46,  46,  46, 
		 90,  46,  46,  46,  46,  46,  46,  48, 
		 47,  46,  46,  46,  46,  46,  46,  46, 
		 46,  46,  46,  46,  46,  91,  46,  46, 
		 46,  46,  46,  46,  46,  46,  46,  46, 
		 48,  47,  46,  46,  46,  46,  46,  46, 
		 46,  46,  46,  46,  46,  46,  46,  46, 
		 46,  46,  92,  46,  46,  46,  46,  46, 
		 46,  48,  47,  46,  46,  46,  46,  46, 
		 46,  46,  46,  46,  46,  46,  46,  46, 
		 46,  93,  46,  46,  46,  46,  46,  46, 
		 46,  46,  48,  47,  46,  46,  46,  46, 
		 46,  46,  46,  46,  94,  46,  46,  46, 
		 46,  46,  46,  46,  46,  46,  46,  46, 
		 46,  46,  46,  48,  47,  46,  46,  46, 
		 46,  46,  46,  46,  46,  46,  46,  46, 
		 46,  46,  46,  46,  95,  46,  46,  46, 
		 46,  46,  46,  46,  48,  47,  44,  44, 
		 44,  44,  96,  97,  71,  70,  98,  73, 
		 73,  73,  73,  73,  73,  73,  73,  73, 
		 73,  73,  73,  73,  73,  73,  73,  73, 
		 73,  73,  73,  73,  73,  73,  73,  72, 
		 73,  73,  73,  73,  73,  73,  73,  73, 
		 73,  73,  73,  73,  73,  73,  73,  73, 
		 73,  73,  73,  73,  73,  73,  73,  73, 
		 73,  73,  73,  73,  73,  73,  73,  73, 
		 73,  99,  73,  73,  73,  73,  73,  73, 
		 73,  73,  73,  74,  74,  74,  74,  74, 
		 74,  74,  74,  74,  74,  74,  74,  74, 
		 74,  74,  74,  74,  74,  74,  74,  74, 
		 74,  74,  74,  74,  74,  74,  74,  74, 
		 74,  74,  74,  74,  74,  74,  74,  74, 
		 74,  74,  74,  74,  74,  74,  74,  74, 
		 74,  74,  75,  76,  74,  74,  74,  74, 
		 74,  74,  74,  74,  74,  74,  74,  74, 
		 74,  74,  74,  74,  74,  74,  74,  74, 
		 74,  74,  74,  74,  74,  74,  74,  74, 
		 74,  74,  74,  74,  74,  74,  74,  74, 
		 74,  74,  74,  74,  74,  74,  74,  74, 
		 74, 100,  74,  74,  74,  74,  75,  76, 
		 74,  74,  74,  43,  43,  43,  43,  43, 
		 43,  43,  43,  43,  43,  43,  43,  43, 
		 43,  43,  43,  43,  43,  43,  43,  43, 
		 43,  43,  43,  43,  43,  43,  43,  43, 
		 43,  43,  43,  43,  43,  77,  43,  43, 
		 43,  43, 101,  43,  43,  43,  43,  43, 
		 43,  43,  43,  43,  43,  43,  43,  46, 
		 46,  46,  46,  46,  46,  46,  46,  46, 
		 46,  46, 102,  46,  46,  46,  46,  46, 
		 46,  46,  46,  46,  46,  46,  48,  47, 
		 46,  46,  46,  46,  46,  46,  46,  46, 
		 46,  46,  46,  46,  46,  46,  46,  46, 
		 46,  46,  46,  46,  46,  46,  46,  48, 
		 47, 103,  46,  46,  46,  46,  46,  46, 
		 46,  46,  46,  46,  46,  46,  46,  46, 
		 46,  46,  46,  46,  46,  46,  46,  46, 
		 48,  47,  46,  46,  46,  46,  46,  46, 
		 46,  46,  46,  46,  46,  46,  46,  46, 
		 46,  46,  46,  46,  46,  46,  46,  46, 
		 46,  48,  47,  46, 104,  46,  46,  46, 
		 46,  46,  46,  46,  46,  46,  46,  46, 
		 46,  46,  46,  46,  46,  46,  46,  46, 
		 46,  46,  48,  47,  46,  46,  46,  46, 
		 46,  46,  46,  46,  46,  46,  46,  46, 
		 46,  46,  46,  46,  46,  46,  46,  46, 
		 46,  46,  46,  48,  47,  46,  46,  46, 
		 46,  46,  46,  46,  46,  46,  46,  46, 
		 46,  46,  46,  46,  46,  46, 105,  46, 
		 46,  46,  46,  46,  48,  47,  46,  46, 
		 46,  46,  46,  46,  46,  46,  46,  46, 
		 46, 106,  46,  46,  46,  46,  46,  46, 
		 46,  46,  46,  46,  46,  48,  47,  46, 
		 46,  46,  46,  46,  46,  46,  46,  46, 
		 46,  46,  46,  46,  46, 107,  46,  46, 
		 46,  46,  46,  46,  46,  46,  48,  47, 
		 46,  46,  46,  46,  46,  46,  46,  46, 
		 46,  46,  46,  46,  46,  46,  46, 108, 
		 46,  46,  46,  46,  46,  46,  46,  48, 
		 47,  46,  46,  46,  46,  46,  46,  46, 
		 46,  46,  46,  46,  46,  46,  46,  46, 
		 46,  46,  46,  46,  46,  46,  46,  46, 
		 48,  47,  46,  46,  46,  46,  46,  46, 
		 46,  46,  46, 109,  46,  46,  46,  46, 
		 46,  46,  46,  46,  46,  46,  46,  46, 
		 46,  48,  47,  46,  46,  46,  46,  46, 
		 46,  46,  46,  46,  46,  46,  46,  46, 
		 46,  46,  46,  46, 110,  46,  46,  46, 
		 46,  46,  48,  47,  46,  46,  46,  46, 
		 46,  46,  46,  46,  46, 111,  46,  46, 
		 46,  46,  46,  46,  46,  46,  46,  46, 
		 46,  46,  46,  48,  47,  46,  46,  46, 
		 46,  46,  46,  46,  46,  46,  46,  46, 
		 46,  46,  46,  46,  46,  46,  46,  46, 
		 46,  46,  46,  46,  48,  47,  46,  46, 
		 46,  46,  46,  46,  46,  46, 112,  46, 
		 46,  46,  46,  46,  46,  46,  46,  46, 
		 46,  46,  46,  46,  46,  48,  47,  46, 
		 46,  46,  46,  46,  46,  46,  46,  46, 
		113,  46,  46,  46,  46,  46,  46,  46, 
		 46,  46,  46,  46,  46,  46,  48,  47, 
		 46,  46,  46,  46, 114,  46,  46,  46, 
		 46,  46,  46,  46,  46,  46,  46,  46, 
		 46,  46,  46,  46,  46,  46,  46,  48, 
		 47,  98,  73,  73,  73,  73,  73,  73, 
		 73,  73,  73,  73,  73,  73,  73,  73, 
		 73,  73,  73,  73,  73,  73,  73,  73, 
		 73,  73,  99,  73,  73,  73,  73,  73, 
		 73,  73,  73,  73,  74,  74,  74,  74, 
		 74,  74,  74,  74,  74,  74,  74,  74, 
		 74,  74,  74,  74,  74,  74,  74,  74, 
		 74,  74,  74,  74,  74,  74,  74,  74, 
		 74,  74,  74,  74,  74,  74, 115,  74, 
		 74,  74,  74,  74,  74,  74,  74,  74, 
		 74,  74,  74,  75,  76,  74,  74,  74, 
		 43,  43,  43,  43,  43,  43,  43,  43, 
		 43,  43,  43,  43,  43,  43,  43,  43, 
		 43,  43,  43,  43,  43,  43,  43,  43, 
		 43,  43,  43,  43,  43,  43,  43,  43, 
		 43,  43,  77,  43,  43,  43,  43,  43, 
		 43,  43,  43,  43,  43,  43,  43,  43, 
		 43,  43,  43,  43,  46,  46,  46,  46, 
		 46,  46,  46,  46,  46,  46,  46,  46, 
		 46,  46,  46,  46,  46,  46,  46,  46, 
		 46,  46,  46,  48,  47,  46,  46,  46, 
		 46,  46,  46,  46,  46,  46,  46,  46, 
		 46,  46,  46,  46,  46, 116,  46,  46, 
		 46,  46,  46,  46,  48,  47,  46,  46, 
		 46,  46,  46,  46,  46,  46,  46, 117, 
		 46,  46,  46,  46,  46,  46,  46,  46, 
		 46,  46,  46,  46,  46,  48,  47,  46, 
		 46,  46,  46,  46,  46,  46,  46,  46, 
		 46,  46,  46,  46,  46,  46,  46, 118, 
		 46,  46,  46,  46,  46,  46,  48,  47, 
		 46,  46,  46,  46,  46,  46,  46,  46, 
		 46,  46,  46,  46,  46,  46,  46,  46, 
		119,  46,  46,  46,  46,  46,  46,  48, 
		 47,  46,  46,  46,  46,  46,  46,  46, 
		 46,  46,  46,  46,  46,  46,  46,  46, 
		 46,  46,  46,  46,  46,  46,  46,  46, 
		 48,  47,  46,  46,  46,  46,  46,  46, 
		 46,  46,  46,  46,  46,  46,  46,  46, 
		 46,  46, 120,  46,  46,  46,  46,  46, 
		 46,  48,  47,  46,  46,  46,  46,  46, 
		 46,  46,  46,  46,  46,  46,  46,  46, 
		 46,  46,  46,  46,  46,  46,  46,  46, 
		 46,  46,  48,  47,  46,  46,  46,  46, 
		 46,  46,  46,  46,  46,  46,  46,  46, 
		 46,  46, 121,  46,  46,  46,  46,  46, 
		 46,  46,  46,  48,  47,  46,  46,  46, 
		 46,  46,  46,  46,  46,  46,  46,  46, 
		 46,  46,  46,  46,  46,  46,  46,  46, 
		 46,  46,  46,  46,  48,  47,  46,  46, 
		 46,  46,  46,  46,  46,  46,  46,  46, 
		 46, 122,  46,  46,  46,  46,  46,  46, 
		 46,  46,  46,  46,  46,  48,  47,  46, 
		 46,  46,  46, 123,  46,  46,  46,  46, 
		 46,  46,  46,  46,  46,  46,  46,  46, 
		 46,  46,  46,  46,  46,  46,  48,  47, 
		 46,  46,  46,  46,  46,  46,  46,  46, 
		 46,  46,  46,  46,  46,  46,  46,  46, 
		 46,  46,  46,  46,  46,  46,  46,  48, 
		 47,  74,  74,  74,  74,  74,  74,  74, 
		 74,  74,  74,  74,  74,  74,  74,  74, 
		 74,  74,  74,  74,  74,  74,  74,  74, 
		 74,  74,  74,  74,  74,  74,  74,  74, 
		 74,  74, 124,  74,  74,  74,  74,  74, 
		 74,  74,  74,  74,  74,  74,  74,  74, 
		 75,  76,  74,  74,  74,  46,  46,  46, 
		 46,  46,  46,  46,  46,  46,  46,  46, 
		 46,  46,  46,  46,  46,  46,  46,  46, 
		 46,  46,  46,  46,  48,  47,  46,  46, 
		 46,  46, 125,  46,  46,  46,  46,  46, 
		 46,  46,  46,  46,  46,  46,  46,  46, 
		 46,  46,  46,  46,  46,  48,  47,  46, 
		 46,  46,  46,  46,  46,  46,  46,  46, 
		 46,  46,  46,  46,  46,  46,  46,  46, 
		 46,  46,  46,  46,  46,  46,  48,  47, 
		 46,  46,  46,  46,  46,  46,  46,  46, 
		 46,  46,  46,  46,  46,  46,  46,  46, 
		 46,  46,  46,  46,  46,  46,  46,  48, 
		 47,  46,  46,  46,  46,  46,  46,  46, 
		 46,  46,  46,  46,  46,  46,  46,  46, 
		 46,  46,  46,  46,  46,  46,  46,  46, 
		 48,  47,  46,  46,  46,  46,  46,  46, 
		 46,  46,  46,  46,  46, 126,  46,  46, 
		 46,  46,  46,  46,  46,  46,  46,  46, 
		 46,  48,  47,  46,  46,  46,  46,  46, 
		 46, 127,  46,  46,  46,  46,  46,  46, 
		 46,  46,  46,  46,  46,  46,  46,  46, 
		 46,  46,  48,  47,  46,  46,  46,  46, 
		 46,  46,  46,  46,  46,  46,  46,  46, 
		 46,  46,  46,  46,  46,  46,  46,  46, 
		 46,  46,  46,  48,  47,  74,  74,  74, 
		 74,  74,  74,  74,  74,  74,  74,  74, 
		 74,  74,  74,  74,  74,  74,  74,  74, 
		 74,  74,  74,  74,  74,  74,  74,  74, 
		 74,  74,  74,  74,  74,  74,  74,  74, 
		 74,  74,  74,  74,  74,  74,  74,  74, 
		 74,  74,  74,  74,  75,  76,  74,  74, 
		 74,  46,  46,  46,  46,  46,  46,  46, 
		 46,  46,  46,  46,  46,  46,  46,  46, 
		 46,  46,  46,  46,  46,  46,  46,  46, 
		 48,  47,  46,  46,  46,  46,  46,  46, 
		 46,  46,  46,  46,  46,  46,  46,  46, 
		 46,  46,  46,  46,  46,  46,  46,  46, 
		 46,  48,  47,  46,  46,  46,  46,  46, 
		 46,  46,  46,  46,  46,  46,  46,  46, 
		 46,  46,  46,  46,  46,  46,  46,  46, 
		 46,  46,  48,  47
	]


	/*
	 *	File status
	 */

	public var line: Int
	public var column: Int
	public var filename: String?
	public var text: String
	public var abort: String?
	public var value: AnyObject?

	/*
	 *	State
	 */

	private var file: OCFileInput


	/*
	 *	Internal status
	 */

	private var curLine: Int
	private var curColumn: Int

	// Mark location support
	private var markLine: Int
	private var markColumn: Int

	// Mark buffer storage
	private var isMarked: Bool
	private var markBuffer: NSMutableString

	// Read cache
	private var readPos: Int
	private var readBuffer: NSMutableString

	// Text read buffer
	private var textMarkSize: Int
	private var textBuffer: NSMutableString

	// State flags
	private var states: UInt64

	/*
	 *	Initialize our parser with the input buffer
	 */

	public init(stream f: OCFileInput)
	{
		file = f

		// Zero public values
		line = 0
		column = 0
		filename = nil
		text = String()
		abort = nil
		value = nil

		// Zero private
		isMarked = false
		markBuffer = NSMutableString()

		readPos = 0
		readBuffer = NSMutableString()

		textMarkSize = 0
		textBuffer = NSMutableString()

		curLine = 0
		curColumn = 0
		markLine = 0
		markColumn = 0

		states = 0

		
	}

	deinit {
		
	}

	/*
	 *	Internal read backtrack support. We implement the internal methods
	 *	for mark, unmark and reset to note the current file position. This is
	 *	used by the lexer to unwind the read queue if we overread the number
	 *	of characters during parsing
	 *
	 *	In essence, as we execute the DFA while we read characters, when we
	 *	find an end state, we mark the stream. Then we continue to read until
	 *	we reach an error--at which point we rewind back to the mark location.
	 */

	/*
	 *		Mark: note that we should cache characters being read so we can rewind
	 *	to this location in the future
	 */

	private func mark()
	{
		markLine = curLine
		markColumn = curColumn
		textMarkSize = textBuffer.length

		isMarked = true
		markBuffer.deleteCharacters(in: NSMakeRange(0, markBuffer.length))
	}

	/*
	 *	Reset: reset the buffer positions
	 */

	private func reset()
	{
		if !isMarked {
			// not marked, nothing to do.
			return
		}

		/*
		 *	Clear the part that was already read
		 */

		if (readPos < readBuffer.length) {
			readBuffer.deleteCharacters(in: NSMakeRange(0,readPos))
		} else {
			readBuffer.deleteCharacters(in: NSMakeRange(0,readBuffer.length))
		}

		/*
		 *	Now moved the marked stuff
		 */

		if (markBuffer.length > 0) {
			readBuffer.insert(markBuffer as String, at: 0)
		}

		/*
		 *	Clear the mark, reset positions
		 */

		readPos = 0
		isMarked = false
		markBuffer.deleteCharacters(in: NSMakeRange(0, markBuffer.length))

		/*
		 *	Update the file position
		 */

		curLine = markLine
		curColumn = markColumn

		/*
		 *	Remove the read text back to the marked location
		 */

		if textMarkSize < textBuffer.length {
			textBuffer.deleteCharacters(in: NSMakeRange(textMarkSize,textBuffer.length - textMarkSize))
		}
	}

	/*
	 *	Read a single character or -1 if at EOF
	 */

	private func input() -> Int
	{
		var ch: Int

		/*
		 *	Read from marked buffer
		 */

		if readPos < readBuffer.length {
			ch = Int(readBuffer.character(at: readPos))
			readPos += 1
		} else {
			ch = file.readByte()
			if ch == -1 {
				return -1
			}
		}

		/*
		 *	Update file position
		 */

		if ch == 0x0A {			// '\n'
			curColumn = 0
			curLine += 1
		} else {
			curColumn += 1
		}

		/*
		 *	Handle mark
		 */

		if isMarked {
			markBuffer.appendFormat("%c", ch)
		}

		/*
		 *	Done.
		 */

		return ch
	}

	/*
	 *	EOL testing
	 */

	private func atEOL() -> Bool
	{
		var ch: Int

		if readPos < readBuffer.length {
			ch = Int(readBuffer.character(at: readPos))
		} else {
			ch = file.peekByte()
		}

		if (ch == -1) || (ch == 0x0A) {
			return true
		} else {
			return false
		}
	}

	private func atSOL() -> Bool
	{
		return column == 0
	}

	/*
	 *	Read the state for the class/state combination. Decodes the sparce
	 *	matrix that is compressed in StateMachineIA/JA/A above. If the
	 *	entry is not found, returns MAXSTATES. This is the same as the lookup
	 *	StateMachine[class][state] if the StateMachine sparse array was
	 *	unrolled
	 */

	private func stateForClass(_ charClass: UInt16, state: UInt16) -> UInt16
	{
		var min, max, mid: UInt16

		/* Find range */
		min = CompilerLex.StateMachineIA[Int(state)]
		max = CompilerLex.StateMachineIA[Int(state)+1]

		while min < max {
			mid = (min + max) / 2;
			let j = CompilerLex.StateMachineJA[Int(mid)]
			if charClass == j {
				return CompilerLex.StateMachineA[Int(mid)]
			} else if charClass < j {
				max = mid
			} else {
				min = mid + 1
			}
		}

		return CompilerLex.MAXSTATES
	}

	public func set(file: String?, line l: Int)
	{
		if file != nil {
			filename = file
		}
		line = l
	}

	public func set(line l: Int)
	{
		line = l
	}

	/*
	 *	Internal methods declared within the Lex file
	 */



	/*
	 *  For conditional states this takes an end DFA state and
	 *  determines the proper end rule given the current start
	 *  conditionals.
	 */

	private func conditionalAction(_ state: UInt16) -> UInt16
{
    switch state {
        default:
            return CompilerLex.MAXACTIONS;
    }
}


	public func lex() -> Int
	{
		var state: UInt16
		var action: UInt16 = CompilerLex.MAXACTIONS

		abort = nil
		value = nil
		text = ""

		/*
		 *	Run until we hit EOF or a production rule triggers a return
		 */

		while true {
			/*
			 *	Start running the DFA
			 */

			state = 0
			textBuffer.deleteCharacters(in: NSMakeRange(0, textBuffer.length))
			line = curLine
			column = curColumn

			while true {
				let ch = input()
				if ch == -1 {
					/*
					 *	We've hit EOF. If there is no stored text, we assume
					 *	we're at the file EOF, so return EOF. Otherwise treat as
					 *	illegal state transition.
					 */

					if textBuffer.length == 0 {
						return -1
					}
					break
				}

				/*
				 *	Attempt to translate to the next state
				 */

				let charClass = CompilerLex.CharClass[Int(ch)]
				let newState = stateForClass(charClass, state: state)
				if newState >= CompilerLex.MAXSTATES {
					/* Illegal state translation */
					break
				}

				/*
				 *	Store the character we read, and transition to the next
				 *	state
				 */

				state = newState
				textBuffer.appendFormat("%c", ch)

				/*
				 *	Note the current action if we have one
				 */

				var newAction = CompilerLex.StateActions[Int(state)]
				if newAction > CompilerLex.MAXACTIONS {
					newAction = conditionalAction(newAction)
				}
				if newAction != CompilerLex.MAXACTIONS {
					action = newAction
					mark()
				}
			}

			/*
			 *	If no action is set, we simply abort after setting an internal
			 *	error state. This should never happen in a well designed lexer
			 */

			if action == CompilerLex.MAXACTIONS {
				abort = "Illegal character sequence"
				return -1
			}

			/*
			 *	Action is set, so we rewind.
			 */

			reset()
			if textBuffer.length == 0 {
				abort = "No characters read in sequence"
				return -1
			}

			/*
			 *	Convert text sequence into string
			 */

			text = textBuffer as String
			value = textBuffer

			/*
			 *	Execute action
			 */

			switch action {
            case 3:
                return CompilerParser.MAIN
            case 4:
                return  CompilerParser.VAR
            case 5:
                return CompilerParser.FLOAT 
            case 6:
                return CompilerParser.DOUBLE 
            case 7:
                return CompilerParser.INT
            case 8:
                return CompilerParser.PRINT
            case 9:
                return CompilerParser.INPUT
            case 10:
                return CompilerParser.CHAR
            case 11:
                return CompilerParser.NEW
            case 12:
                return CompilerParser.CONST
            case 13:
                return CompilerParser.RTN
            case 14:
                return CompilerParser.BOOLEAN
            case 15:
                return CompilerParser.INTEGERCLASS
            case 16:
                return CompilerParser.STRINGCLASS
            case 17:
                return CompilerParser.WHILE
            case 18:
                return CompilerParser.FOR
            case 19:
                return CompilerParser.IF
            case 20:
                return CompilerParser.ELSE 
            case 21:
                return CompilerParser.NLL 
            case 22:
                return CompilerParser.COMMA
            case 23:
                return CompilerParser.EQ
            case 24:
                return CompilerParser.AND
            case 25:
                return CompilerParser.OR
            case 26:
                return CompilerParser.DIF
            case 27:
                return CompilerParser.NOT
            case 28:
                return CompilerParser.LT
            case 29:
                return CompilerParser.GT
            case 30:
                return CompilerParser.LBRACE
            case 31:
                return CompilerParser.RBRACE
            case 32:
                return CompilerParser.DIVIDE
            case 33:
                return CompilerParser.TIMES
            case 34:
                return CompilerParser.LPAREN
            case 35:
                return CompilerParser.RPAREN
            case 36:
                return CompilerParser.LSBRAKE
            case 37:
                return CompilerParser.RSBRAKE
            case 38:
                return CompilerParser.PLUS
            case 39:
                return CompilerParser.MINUS
            case 40:
                return CompilerParser.SEMICOLON
            case 41:
                return CompilerParser.COLON
            case 42:
                return CompilerParser.QM
            case 43:
                return CompilerParser.CPTRG
            case 44:
                return CompilerParser.INCPTRG
            case 45:
                value = NSNumber.init(value:Float(text) ?? 0)
    print(value)
    return CompilerParser.CTEF
            case 46:
                value = NSNumber.init(value:Int(text) ?? 0)
    print(value)
    return CompilerParser.CTEI
            case 47:
                print(text)
    return CompilerParser.CTES
            case 48:
                return CompilerParser.ID
            case 49:
                print("ERROR")
                print(text)
                return Int(text.unicodeScalars.first?.value ?? 0)
            
				default:
					break;
			}
		}
	}
}
